<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <ui:composition template="../main.xhtml" >

        <ui:define name="center">
            <style>
                .ui-steps.horizontal .ui-steps-item {
                    width: 19.8%;
                    float: left;
                }
            </style>
            <h:form>
                
                <p:dataTable filterEvent="keydown"  rowIndexVar="row" id="bonds_id" var="bonds_var" widgetVar="bonds_wid" value="#{bondTrash.bondEntitys}"  emptyMessage="回收站为空" filteredValue="#{bondTrash.bondFilter}">
                    <f:facet name="header">
                        审批融资标
                    </f:facet>
                    <p:column  headerText="序号" style="width:30px">
                        <h:outputText value="#{row + 1}"/> 
                    </p:column>
                    <p:column headerText="标号" filterBy="#{bonds_var.bondNumber}" style="width:135px"  footerText="包含模式" filterMatchMode="contains">
                        <h:outputText value="#{bonds_var.bondNumber}" />
                    </p:column>
                    <p:column headerText="发布人"  filterBy="#{bonds_var.issueAdmin}" style="width:135px"  >
                        <h:outputText value="#{bonds_var.issueAdmin}"/>
                    </p:column>
                    <p:column headerText="年利率"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.yearRate}" />
                    </p:column>
                    <p:column headerText="基本金"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.baseAmount}" />
                    </p:column>
                    <p:column headerText="发行份数"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.issueCopiesNum}" />
                    </p:column>
                    <p:column headerText="总金额"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.issueCopiesNum*bonds_var.baseAmount}" />
                    </p:column>
                    <p:column headerText="债务人"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.issueUser}" />
                    </p:column>
                    <p:column headerText="标类型"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.bondType}" />
                    </p:column>
                    <p:column headerText="还款周期"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.repayCycle}" />
                    </p:column>
                    <p:column headerText="还款期数"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.repayCycleNumber}" />
                    </p:column>
                    <p:column headerText="还款模型"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.repayModelEnum}" />
                    </p:column>
                    <p:column headerText="时间"  footerText="包含模式" >
                        <h:outputText value="#{bonds_var.startDate}" converter="DateConverter"/>
                    </p:column>
                    <p:column style="width:20px">
                        <p:commandLink id="delete_id"  styleClass="ui-icon ui-icon-trash" update="bonds_id" immediate="true" action="#{bondTrash.deleteBond()}">
                            <f:setPropertyActionListener value="#{bonds_var}" target="#{bondTrash.targetBond}" />
                        </p:commandLink>
                        <p:tooltip for="delete_id" value="彻底删除"/>
                    </p:column>
                </p:dataTable>
            </h:form>
        </ui:define>
    </ui:composition>
</html>

